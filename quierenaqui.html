<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Marker Clustering</title>
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */

        #map {
            height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <script>

        function initMap() {

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 11,
                center: { lat: 4.646791, lng: -74.056805 }
            });

            // Create an array of alphabetical characters used to label the markers.
            var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

            // Add some markers to the map.
            // Note: The code uses the JavaScript Array.prototype.map() method to
            // create an array of markers based on a given "locations" array.
            // The map() method here has nothing to do with the Google Maps API.
            var markers = locations.map(function (location, i) {
                return new google.maps.Marker({
                    position: location,
                    label: labels[i % labels.length]
                });
            });

            // Add a marker clusterer to manage the markers.
            var markerCluster = new MarkerClusterer(map, markers,
                { imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m' });

            markerCluster.setCalculator(function (markers, numStyles) {
                //create an index for icon styles
                var index = 0,
                    //Count the total number of markers in this cluster
                    count = markers.length,
                    //Set total to loop through (starts at total number)
                    total = count;

                /**
                 * While we still have markers, divide by a set number and
                 * increase the index. Cluster moves up to a new style.
                 *
                 * The bigger the index, the more markers the cluster contains,
                 * so the bigger the cluster.
                 */
                while (total !== 0) {
                    //Create a new total by dividing by a set number
                    total = parseInt(total / 5, 10);
                    //Increase the index and move up to the next style
                    index++;
                }

                /**
                 * Make sure we always return a valid index. E.g. If we only have
                 * 5 styles, but the index is 8, this will make sure we return
                 * 5. Returning an index of 8 wouldn't have a marker style.
                 */
                index = Math.min(index, numStyles);
                //Tell MarkerCluster this clusters details (and how to style it)
                return {
                    text: Math.round((count / 116) * 100) + "%",
                    index: index
                };
            });
        }
        var locations = [
            { lat: 4.69246, lng: -74.13585 }, { lat: 4.69246, lng: -74.13585 }, { lat: 4.69246, lng: -74.13585 }, { lat: 4.69246, lng: -74.13585 },
            { lat: 4.71222, lng: -74.07057 }, { lat: 4.71222, lng: -74.07057 },
            { lat: 4.60609, lng: -74.08528 }, { lat: 4.60609, lng: -74.08528 }, { lat: 4.60609, lng: -74.08528 }, { lat: 4.60609, lng: -74.08528 },
            { lat: 4.70478, lng: -74.05058 }, { lat: 4.70478, lng: -74.05058 },
            { lat: 4.719748, lng: -74.036128 },
            { lat: 4.64797, lng: -74.06003 }, { lat: 4.64797, lng: -74.06003 }, { lat: 4.64797, lng: -74.06003 },
            { lat: 4.67005, lng: -74.05538 }, { lat: 4.67005, lng: -74.05538 }, { lat: 4.67005, lng: -74.05538 },
            { lat: 4.69884, lng: -74.0573 },
            { lat: 4.7231963, lng: -74.0288247 },
            { lat: 4.863364, lng: -74.051523 },
            { lat: 4.73525, lng: -74.05028 },
            { lat: 4.59294, lng: -74.12308 }, { lat: 4.59294, lng: -74.12308 },
            { lat: 4.6875213, lng: -74.0588097 }, { lat: 4.6875213, lng: -74.0588097 },
            { lat: 4.63018, lng: -74.09234 }, { lat: 4.63018, lng: -74.09234 },
            { lat: 4.71308, lng: -74.03424 },
            { lat: 4.88618, lng: -74.03538 },
            { lat: 4.642774, lng: -74.074972 }, { lat: 4.642774, lng: -74.074972 },
            { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 }, { lat: 4.64818, lng: -74.10063 },
            { lat: 4.692826, lng: -74.032452 }, { lat: 4.692826, lng: -74.032452 }, { lat: 4.692826, lng: -74.032452 },
            { lat: 4.66449, lng: -74.13082 },
            { lat: 4.688048, lng: -74.06393 }, { lat: 4.688048, lng: -74.06393 },
            { lat: 4.66298, lng: -74.10193 }, { lat: 4.66298, lng: -74.10193 },
            { lat: 4.6177953, lng: -74.0924757 },
            { lat: 4.71997, lng: -73.96869 },
            { lat: 4.65505, lng: -74.11008 },
            { lat: 4.65164, lng: -74.12509 },
            { lat: 4.61551, lng: -74.06896 },
            { lat: 4.71851, lng: -74.0419 },
            { lat: 4.71568, lng: -74.02885 },
            { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 }, { lat: 4.67675, lng: -74.04829 },
            { lat: 4.69324, lng: -74.06199 },
            { lat: 4.710839, lng: -74.111884 }, { lat: 4.710839, lng: -74.111884 },
            { lat: 4.63334, lng: -74.10628 },
            { lat: 4.66001, lng: -74.04865 }, { lat: 4.66001, lng: -74.04865 },
            { lat: 4.7226, lng: -74.06239 }, { lat: 4.7226, lng: -74.06239 },
            { lat: 4.689856, lng: -74.036634 },
            { lat: 4.70161, lng: -74.04815 },
            { lat: 4.6935, lng: -74.04268 },
            { lat: 4.76338, lng: -74.04583 }, { lat: 4.76338, lng: -74.04583 }, { lat: 4.76338, lng: -74.04583 }, { lat: 4.76338, lng: -74.04583 },
            { lat: 4.69554, lng: -74.08739 }, { lat: 4.69554, lng: -74.08739 },
            { lat: 4.702268, lng: -74.041564 }, { lat: 4.702268, lng: -74.041564 }, { lat: 4.702268, lng: -74.041564 }, { lat: 4.702268, lng: -74.041564 }, { lat: 4.702268, lng: -74.041564 }, { lat: 4.702268, lng: -74.041564 },
            { lat: 4.66503, lng: -74.058 },
            { lat: 4.60123, lng: -74.06616 }, { lat: 4.60123, lng: -74.06616 }, { lat: 4.60123, lng: -74.06616 }, { lat: 4.60123, lng: -74.06616 }, { lat: 4.60123, lng: -74.06616 },
            { lat: 4.60064, lng: -74.07343 }, { lat: 4.60064, lng: -74.07343 }, { lat: 4.60064, lng: -74.07343 }, { lat: 4.60064, lng: -74.07343 }, { lat: 4.60064, lng: -74.07343 },
            { lat: 4.62899, lng: -74.06464 }, { lat: 4.62899, lng: -74.06464 },
            { lat: 4.68346, lng: -74.04287 }, { lat: 4.68346, lng: -74.04287 },
            { lat: 4.639923, lng: -74.08486 },
            { lat: 4.68088, lng: -74.04064 },
            { lat: 4.6145952, lng: -74.1007302 }, { lat: 4.6145952, lng: -74.1007302 },
            { lat: 4.666787, lng: -74.053117 }, { lat: 4.666787, lng: -74.053117 }, { lat: 4.666787, lng: -74.053117 },
        ]

    </script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZLQh1Ct9bPA6pGNdXbtWEEcrBSHq92g0&callback=initMap">
    </script>
</body>

</html>