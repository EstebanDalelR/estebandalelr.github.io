<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Marker Clustering</title>
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */

        #map {
            height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <script>

        function initMap() {

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 4,
                center: { lat: 4.646791, lng: -74.056805 }
            });

            // Create an array of alphabetical characters used to label the markers.
            var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

            // Add some markers to the map.
            // Note: The code uses the JavaScript Array.prototype.map() method to
            // create an array of markers based on a given "locations" array.
            // The map() method here has nothing to do with the Google Maps API.
            var markers = locations.map(function (location, i) {
                return new google.maps.Marker({
                    position: location,
                    label: labels[i % labels.length]
                });
            });

            // Add a marker clusterer to manage the markers.
            var markerCluster = new MarkerClusterer(map, markers,
                { imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m' });

            markerCluster.setCalculator(function (markers, numStyles) {
                //create an index for icon styles
                var index = 0,
                    //Count the total number of markers in this cluster
                    count = markers.length,
                    //Set total to loop through (starts at total number)
                    total = count;

                /**
                 * While we still have markers, divide by a set number and
                 * increase the index. Cluster moves up to a new style.
                 *
                 * The bigger the index, the more markers the cluster contains,
                 * so the bigger the cluster.
                 */
                while (total !== 0) {
                    //Create a new total by dividing by a set number
                    total = parseInt(total / 5, 10);
                    //Increase the index and move up to the next style
                    index++;
                }

                /**
                 * Make sure we always return a valid index. E.g. If we only have
                 * 5 styles, but the index is 8, this will make sure we return
                 * 5. Returning an index of 8 wouldn't have a marker style.
                 */
                index = Math.min(index, numStyles);
                //Tell MarkerCluster this clusters details (and how to style it)
                return {
                    text: Math.round((count/378)*100)+ "%",
                    index: index
                };
            });
        }
        var locations = [
            { lat: 4.566379, lng: -74.170545 }, { lat: 4.617853, lng: -74.068866 }, { lat: 4.933126, lng: -73.976809 }, { lat: 4.601228, lng: -74.120114 }, { lat: 4.661233, lng: -74.081397 }, { lat: 4.63176, lng: -74.083144 }, { lat: 4.715218, lng: -74.077236 }, { lat: 4.585203, lng: -74.187791 }, { lat: 4.722016, lng: -74.044999 }, { lat: 4.720586, lng: -74.075301 }, { lat: 4.71169, lng: -74.078193 }, { lat: 4.757154, lng: -74.028739 }, { lat: 4.645359, lng: -74.087389 }, { lat: 4.669279, lng: -74.050547 }, { lat: 4.630897, lng: -74.096432 }, { lat: 4.74527, lng: -74.11733 }, { lat: 4.631423, lng: -74.133633 }, { lat: 4.720126, lng: -74.034745 }, { lat: 4.659255, lng: -74.063194 }, { lat: 4.617948, lng: -74.090757 }, { lat: 4.521548, lng: -74.118025 }, { lat: 4.709314, lng: -74.114252 }, { lat: 4.729758, lng: -74.04919 }, { lat: 4.603575, lng: -74.068004 }, { lat: 4.649281, lng: -74.054615 }, { lat: 4.660326, lng: -74.110771 }, { lat: 4.657419, lng: -74.048365 }, { lat: 4.713267, lng: -74.063773 }, { lat: 4.664935, lng: -74.059288 }, { lat: 4.676936, lng: -74.063787 }, { lat: 4.720785, lng: -74.058891 }, { lat: 4.704435, lng: -74.060019 }, { lat: 4.692983, lng: -74.047616 }, { lat: 4.655632, lng: -74.050642 }, { lat: 4.582642, lng: -74.191123 }, { lat: 4.706407, lng: -74.060707 }, { lat: 4.681412, lng: -74.1412 }, { lat: 4.682727, lng: -74.061355 }, { lat: 4.69727, lng: -74.067371 }, { lat: 4.686534, lng: -74.047988 }, { lat: 4.583746, lng: -74.204984 }, { lat: 4.69921, lng: -74.088943 }, { lat: 4.703314, lng: -74.057494 }, { lat: 4.697702, lng: -74.054138 }, { lat: 4.649764, lng: -74.169382 }, { lat: 4.647321, lng: -74.069431 }, { lat: 4.741154, lng: -74.057134 }, { lat: 4.688758, lng: -74.071408 }, { lat: 4.675835, lng: -74.054312 }, { lat: 4.692248, lng: -74.033463 }, { lat: 6.218705, lng: -75.59763 }, { lat: 4.686097, lng: -74.127189 }, { lat: 4.69649, lng: -74.08814 }, { lat: 4.69165, lng: -74.030732 }, { lat: 4.74531, lng: -74.067814 }, { lat: 4.667061, lng: -74.048918 }, { lat: 4.607244, lng: -74.067278 }, { lat: 4.69484, lng: -74.062147 }, { lat: 4.721302, lng: -74.038373 }, { lat: 4.576879, lng: -74.084633 }, { lat: 4.714589, lng: -74.030457 }, { lat: 4.621453, lng: -74.070713 }, { lat: 4.669263, lng: -74.050625 }, { lat: 4.692637, lng: -74.062782 }, { lat: 10.396091, lng: -75.553504 }, { lat: 4.717512, lng: -74.034837 }, { lat: 4.727624, lng: -74.0557 }, { lat: 4.669263, lng: -74.050636 }, { lat: 4.64139, lng: -74.074899 }, { lat: 4.881421, lng: -74.03833 }, { lat: 4.60546, lng: -74.15521 }, { lat: 4.691212, lng: -74.038641 }, { lat: 4.651307, lng: -74.056235 }, { lat: 4.644947, lng: -74.057832 }, { lat: 4.695885, lng: -74.04453 }, { lat: 4.739998, lng: -74.054317 }, { lat: 4.696119, lng: -73.963038 }, { lat: 4.647254, lng: -74.053903 }, { lat: 4.589014, lng: -74.163369 }, { lat: 4.664516, lng: -74.049317 }, { lat: 4.676115, lng: -74.143858 }, { lat: 4.69625, lng: -74.062543 }, { lat: 4.755839, lng: -74.095155 }, { lat: 4.673467, lng: -74.123172 }, { lat: 4.672744, lng: -74.093536 }, { lat: 4.674286, lng: -74.045631 }, { lat: 4.755468, lng: -74.078412 }, { lat: 26.120191, lng: -80.395831 }, { lat: 4.695173, lng: -74.037069 }, { lat: 4.719055, lng: -73.969693 }, { lat: 4.632225, lng: -74.061972 }, { lat: 4.65278, lng: -74.052298 }, { lat: 4.664656, lng: -74.045163 }, { lat: 4.660594, lng: -74.051039 }, { lat: 4.73069, lng: -74.098145 }, { lat: 4.63728, lng: -74.144992 }, { lat: 4.702221, lng: -74.079051 }, { lat: 4.702414, lng: -74.032199 }, { lat: 4.689416, lng: -74.065907 }, { lat: 4.648245, lng: -74.056935 }, { lat: 4.674472, lng: -74.044826 }, { lat: 4.644982, lng: -74.066914 }, { lat: 4.664628, lng: -74.054479 }, { lat: 4.641415, lng: -74.060423 }, { lat: 4.686768, lng: -74.069221 }, { lat: 6.205208, lng: -75.599919 }, { lat: 4.681616, lng: -74.055396 }, { lat: 4.700999, lng: -74.039845 }, { lat: 4.71496, lng: -74.039887 }, { lat: 4.64852, lng: -74.05608 }, { lat: 4.732669, lng: -74.075927 }, { lat: 4.607379, lng: -74.135948 }, { lat: 4.653593, lng: -74.106881 }, { lat: 4.684645, lng: -74.059004 }, { lat: 4.73806, lng: -74.054461 }, { lat: 4.67581, lng: -74.062709 }, { lat: 4.689045, lng: -74.078695 }, { lat: 4.643324, lng: -74.058632 }, { lat: 4.636597, lng: -74.068515 }, { lat: 4.720313, lng: -74.075413 }, { lat: 4.647308, lng: -74.057848 }, { lat: 4.679122, lng: -74.046211 }, { lat: 4.706773, lng: -74.032587 }, { lat: 4.669381, lng: -74.095663 }, { lat: 4.646791, lng: -74.056805 }, { lat: 4.711652, lng: -74.070316 }, { lat: 4.768317, lng: -74.030372 }, { lat: 4.682838, lng: -74.04989 }, { lat: 4.646344, lng: -74.056522 }, { lat: 4.690047, lng: -74.041856 }, { lat: 4.664033, lng: -74.049249 }, { lat: 4.695708, lng: -74.061041 }, { lat: 4.632722, lng: -74.064698 }, { lat: 4.600277, lng: -74.067697 }, { lat: 4.689487, lng: -74.054042 }, { lat: 4.718092, lng: -74.037611 }, { lat: 4.669577, lng: -74.051855 }, { lat: 4.660285, lng: -74.04741 }, { lat: 4.652898, lng: -74.052681 }, { lat: 4.706646, lng: -74.082281 }, { lat: 4.682475, lng: -74.049814 }, { lat: 4.692554, lng: -74.009345 }, { lat: 4.873187, lng: -74.051762 }, { lat: 6.251444, lng: -75.60187 }, { lat: 4.669981, lng: -74.068641 }, { lat: 4.613842, lng: -74.110723 }, { lat: 4.662814, lng: -74.057388 }, { lat: 4.719535, lng: -74.035158 }, { lat: 4.753583, lng: -74.040881 }, { lat: 4.766848, lng: -74.046898 }, { lat: 4.751179, lng: -74.067635 }, { lat: 4.642884, lng: -74.076968 }, { lat: 3.446232, lng: -76.509211 }, { lat: 4.687662, lng: -74.045293 }, { lat: 4.646387, lng: -74.06081 }, { lat: 4.795916, lng: -74.067272 }, { lat: 4.625905, lng: -74.140433 }, { lat: 4.646987, lng: -74.091792 }, { lat: 4.766317, lng: -74.045201 }, { lat: 4.721104, lng: -74.059802 }, { lat: 4.631669, lng: -74.091963 }, { lat: 4.626585, lng: -74.065526 }, { lat: 4.659385, lng: -74.117928 }, { lat: 4.721433, lng: -74.02927 }, { lat: 4.694039, lng: -74.038371 }, { lat: 4.674475, lng: -74.146832 }, { lat: 4.65755, lng: -74.051394 }, { lat: 4.638905, lng: -74.147793 }, { lat: 4.649131, lng: -74.064875 }, { lat: 4.651451, lng: -74.134632 }, { lat: 4.699314, lng: -74.058081 }, { lat: 4.635493, lng: -74.060659 }, { lat: 4.680839, lng: -74.042161 }, { lat: 4.648876, lng: -74.05651 }, { lat: 4.707942, lng: -74.054106 }, { lat: 4.651923, lng: -74.054112 }, { lat: 4.8833, lng: -74.03654 }, { lat: 4.691803, lng: -74.075374 }, { lat: 4.614338, lng: -74.064912 }, { lat: 4.596633, lng: -74.088287 }, { lat: 4.644803, lng: -74.071391 }, { lat: 4.65164, lng: -74.053844 }, { lat: 4.650555, lng: -74.147185 }, { lat: 4.652939, lng: -74.059553 }, { lat: 4.698099, lng: -74.045482 }, { lat: 4.726498, lng: -74.118341 }, { lat: 4.67376, lng: -74.122348 }, { lat: 4.735761, lng: -74.025408 }, { lat: 4.655287, lng: -74.053294 }, { lat: 4.566379, lng: -74.170545 }, { lat: 4.617853, lng: -74.068866 }, { lat: 4.933126, lng: -73.976809 }, { lat: 4.601228, lng: -74.120114 }, { lat: 4.661233, lng: -74.081397 }, { lat: 4.63176, lng: -74.083144 }, { lat: 4.715218, lng: -74.077236 }, { lat: 4.585203, lng: -74.187791 }, { lat: 4.722016, lng: -74.044999 }, { lat: 4.720586, lng: -74.075301 }, { lat: 4.71169, lng: -74.078193 }, { lat: 4.757154, lng: -74.028739 }, { lat: 4.645359, lng: -74.087389 }, { lat: 4.669279, lng: -74.050547 }, { lat: 4.630897, lng: -74.096432 }, { lat: 4.74527, lng: -74.11733 }, { lat: 4.631423, lng: -74.133633 }, { lat: 4.720126, lng: -74.034745 }, { lat: 4.659255, lng: -74.063194 }, { lat: 4.617948, lng: -74.090757 }, { lat: 4.521548, lng: -74.118025 }, { lat: 4.709314, lng: -74.114252 }, { lat: 4.729758, lng: -74.04919 }, { lat: 4.603575, lng: -74.068004 }, { lat: 4.649281, lng: -74.054615 }, { lat: 4.660326, lng: -74.110771 }, { lat: 4.657419, lng: -74.048365 }, { lat: 4.713267, lng: -74.063773 }, { lat: 4.664935, lng: -74.059288 }, { lat: 4.676936, lng: -74.063787 }, { lat: 4.720785, lng: -74.058891 }, { lat: 4.704435, lng: -74.060019 }, { lat: 4.692983, lng: -74.047616 }, { lat: 4.655632, lng: -74.050642 }, { lat: 4.582642, lng: -74.191123 }, { lat: 4.706407, lng: -74.060707 }, { lat: 4.681412, lng: -74.1412 }, { lat: 4.682727, lng: -74.061355 }, { lat: 4.69727, lng: -74.067371 }, { lat: 4.686534, lng: -74.047988 }, { lat: 4.583746, lng: -74.204984 }, { lat: 4.69921, lng: -74.088943 }, { lat: 4.703314, lng: -74.057494 }, { lat: 4.697702, lng: -74.054138 }, { lat: 4.649764, lng: -74.169382 }, { lat: 4.647321, lng: -74.069431 }, { lat: 4.741154, lng: -74.057134 }, { lat: 4.688758, lng: -74.071408 }, { lat: 4.675835, lng: -74.054312 }, { lat: 4.692248, lng: -74.033463 }, { lat: 6.218705, lng: -75.59763 }, { lat: 4.686097, lng: -74.127189 }, { lat: 4.69649, lng: -74.08814 }, { lat: 4.69165, lng: -74.030732 }, { lat: 4.74531, lng: -74.067814 }, { lat: 4.667061, lng: -74.048918 }, { lat: 4.607244, lng: -74.067278 }, { lat: 4.69484, lng: -74.062147 }, { lat: 4.721302, lng: -74.038373 }, { lat: 4.576879, lng: -74.084633 }, { lat: 4.714589, lng: -74.030457 }, { lat: 4.621453, lng: -74.070713 }, { lat: 4.669263, lng: -74.050625 }, { lat: 4.692637, lng: -74.062782 }, { lat: 10.396091, lng: -75.553504 }, { lat: 4.717512, lng: -74.034837 }, { lat: 4.727624, lng: -74.0557 }, { lat: 4.669263, lng: -74.050636 }, { lat: 4.64139, lng: -74.074899 }, { lat: 4.881421, lng: -74.03833 }, { lat: 4.60546, lng: -74.15521 }, { lat: 4.691212, lng: -74.038641 }, { lat: 4.651307, lng: -74.056235 }, { lat: 4.644947, lng: -74.057832 }, { lat: 4.695885, lng: -74.04453 }, { lat: 4.739998, lng: -74.054317 }, { lat: 4.696119, lng: -73.963038 }, { lat: 4.647254, lng: -74.053903 }, { lat: 4.589014, lng: -74.163369 }, { lat: 4.664516, lng: -74.049317 }, { lat: 4.676115, lng: -74.143858 }, { lat: 4.69625, lng: -74.062543 }, { lat: 4.755839, lng: -74.095155 }, { lat: 4.673467, lng: -74.123172 }, { lat: 4.672744, lng: -74.093536 }, { lat: 4.674286, lng: -74.045631 }, { lat: 4.755468, lng: -74.078412 }, { lat: 26.120191, lng: -80.395831 }, { lat: 4.695173, lng: -74.037069 }, { lat: 4.719055, lng: -73.969693 }, { lat: 4.632225, lng: -74.061972 }, { lat: 4.65278, lng: -74.052298 }, { lat: 4.664656, lng: -74.045163 }, { lat: 4.660594, lng: -74.051039 }, { lat: 4.73069, lng: -74.098145 }, { lat: 4.63728, lng: -74.144992 }, { lat: 4.702221, lng: -74.079051 }, { lat: 4.702414, lng: -74.032199 }, { lat: 4.689416, lng: -74.065907 }, { lat: 4.648245, lng: -74.056935 }, { lat: 4.674472, lng: -74.044826 }, { lat: 4.644982, lng: -74.066914 }, { lat: 4.664628, lng: -74.054479 }, { lat: 4.641415, lng: -74.060423 }, { lat: 4.686768, lng: -74.069221 }, { lat: 6.205208, lng: -75.599919 }, { lat: 4.681616, lng: -74.055396 }, { lat: 4.700999, lng: -74.039845 }, { lat: 4.71496, lng: -74.039887 }, { lat: 4.64852, lng: -74.05608 }, { lat: 4.732669, lng: -74.075927 }, { lat: 4.607379, lng: -74.135948 }, { lat: 4.653593, lng: -74.106881 }, { lat: 4.684645, lng: -74.059004 }, { lat: 4.73806, lng: -74.054461 }, { lat: 4.67581, lng: -74.062709 }, { lat: 4.689045, lng: -74.078695 }, { lat: 4.643324, lng: -74.058632 }, { lat: 4.636597, lng: -74.068515 }, { lat: 4.720313, lng: -74.075413 }, { lat: 4.647308, lng: -74.057848 }, { lat: 4.679122, lng: -74.046211 }, { lat: 4.706773, lng: -74.032587 }, { lat: 4.669381, lng: -74.095663 }, { lat: 4.646791, lng: -74.056805 }, { lat: 4.711652, lng: -74.070316 }, { lat: 4.768317, lng: -74.030372 }, { lat: 4.682838, lng: -74.04989 }, { lat: 4.646344, lng: -74.056522 }, { lat: 4.690047, lng: -74.041856 }, { lat: 4.664033, lng: -74.049249 }, { lat: 4.695708, lng: -74.061041 }, { lat: 4.632722, lng: -74.064698 }, { lat: 4.600277, lng: -74.067697 }, { lat: 4.689487, lng: -74.054042 }, { lat: 4.718092, lng: -74.037611 }, { lat: 4.669577, lng: -74.051855 }, { lat: 4.660285, lng: -74.04741 }, { lat: 4.652898, lng: -74.052681 }, { lat: 4.706646, lng: -74.082281 }, { lat: 4.682475, lng: -74.049814 }, { lat: 4.692554, lng: -74.009345 }, { lat: 4.873187, lng: -74.051762 }, { lat: 6.251444, lng: -75.60187 }, { lat: 4.669981, lng: -74.068641 }, { lat: 4.613842, lng: -74.110723 }, { lat: 4.662814, lng: -74.057388 }, { lat: 4.719535, lng: -74.035158 }, { lat: 4.753583, lng: -74.040881 }, { lat: 4.766848, lng: -74.046898 }, { lat: 4.751179, lng: -74.067635 }, { lat: 4.642884, lng: -74.076968 }, { lat: 3.446232, lng: -76.509211 }, { lat: 4.687662, lng: -74.045293 }, { lat: 4.646387, lng: -74.06081 }, { lat: 4.795916, lng: -74.067272 }, { lat: 4.625905, lng: -74.140433 }, { lat: 4.646987, lng: -74.091792 }, { lat: 4.766317, lng: -74.045201 }, { lat: 4.721104, lng: -74.059802 }, { lat: 4.631669, lng: -74.091963 }, { lat: 4.626585, lng: -74.065526 }, { lat: 4.659385, lng: -74.117928 }, { lat: 4.721433, lng: -74.02927 }, { lat: 4.694039, lng: -74.038371 }, { lat: 4.674475, lng: -74.146832 }, { lat: 4.65755, lng: -74.051394 }, { lat: 4.638905, lng: -74.147793 }, { lat: 4.649131, lng: -74.064875 }, { lat: 4.651451, lng: -74.134632 }, { lat: 4.699314, lng: -74.058081 }, { lat: 4.635493, lng: -74.060659 }, { lat: 4.680839, lng: -74.042161 }, { lat: 4.648876, lng: -74.05651 }, { lat: 4.707942, lng: -74.054106 }, { lat: 4.651923, lng: -74.054112 }, { lat: 4.8833, lng: -74.03654 }, { lat: 4.691803, lng: -74.075374 }, { lat: 4.614338, lng: -74.064912 }, { lat: 4.596633, lng: -74.088287 }, { lat: 4.644803, lng: -74.071391 }, { lat: 4.65164, lng: -74.053844 }, { lat: 4.650555, lng: -74.147185 }, { lat: 4.652939, lng: -74.059553 }, { lat: 4.698099, lng: -74.045482 }, { lat: 4.726498, lng: -74.118341 }, { lat: 4.67376, lng: -74.122348 }, { lat: 4.735761, lng: -74.025408 }, { lat: 4.655287, lng: -74.053294 }
        ]

    </script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZLQh1Ct9bPA6pGNdXbtWEEcrBSHq92g0&callback=initMap">
    </script>
</body>

</html>